webpackJsonp([37],{"5p6o":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("ZLEe"),l=i.n(o),r=i("a3Yh"),a=i.n(r),n=i("DfAa"),s=i("4T3X"),c=(i("E4LH"),{name:"矿池名称",owner:"矿池所有者",connectUrl:"矿池URL",type:"矿池类型"}),m={data:function(){var e;return e={formVisible:!1,formType:1,list:[],listLoading:!0,dialogLoading:!0},a()(e,"dialogLoading",!1),a()(e,"listQuery",{name:void 0}),a()(e,"dicts",{poolType:{list:[],obj:{}}}),a()(e,"form",{id:"",poolNoStr:"",nameCreator:"",timeCreate:"",nameUpdater:"",timeUpdate:"",name:"",owner:"",connectUrl:"",type:"",remark:""}),e},created:function(){this.getDict(),this.fetchData()},computed:{formTitle:function(){return 1===this.formType?"新增矿池信息":2===this.formType?"修改矿池信息":3===this.formType?"矿池详细信息":void 0},btnName:function(){return 2===this.formType?"修改":"新增"}},methods:{getDict:function(){Object(s.a)("dict_11").then(function(e){this.dicts.poolType=e}.bind(this))},fetchData:function(){var e=this;this.listLoading=!0,Object(n.c)(this.listQuery).then(function(t){e.list=t.result,e.listLoading=!1})},dictTransform:function(e,t){for(var i=this.dict[e],o=0;o<i.length;o++)if(t==i[o].key)return i[o].value},handleCurrentChange:function(e){this.pageNo=e,this.fetchData()},clickBtn:function(e,t){var i=this;this.formType=e,1===e?l()(i.form).forEach(function(e){i.form[e]=""}):this.getInfo(t),this.formVisible=!0},getInfo:function(e){var t=this,i=this;this.dialogLoading=!0,Object(n.b)(e).then(function(e){var o;o=e.result,l()(i.form).forEach(function(e){i.form[e]=o[e]}),t.dialogLoading=!1})},valid:function(){for(var e in c){var t=this.form[e];if(void 0===t||null===t||""===t.toString().trim()){var i=c[e]+"不能为空！";return this.$message.error(i),!1}}if(this.form.remark.length>200){return this.$message.error("备注长度不能超过200！"),!1}return!0},addSubmit:function(){if(this.valid()){var e=this,t="";this.dialogLoading=!0,1===this.formType?(t="添加成功！",Object(n.a)(this.form).then(function(e){i()})):2===this.formType&&(t="修改成功！",Object(n.d)(this.form).then(function(e){i()}))}function i(){e.$message({message:t,type:"success"}),e.formVisible=!1,e.dialogLoading=!1,e.fetchData()}},addCancel:function(){this.formVisible=!1}}},f={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container calendar-list-container"},[i("div",{staticClass:"filter-container"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.listQuery}},[i("el-form-item",[e.btn.add?i("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){e.clickBtn(1)}}},[e._v("新增")]):e._e()],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",stripe:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"矿池ID",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.poolNoStr)+"\n      ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"矿池名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"矿池URL",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.connectUrl)+"\n      ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"矿池所有者",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.owner)+"\n      ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"类型",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e.dicts.poolType.obj[t.row.type]))])]}}])}),e._v(" "),i("el-table-column",{staticStyle:{"white-space":"nowrap"},attrs:{align:"center",label:"操作","class-name":"mid-padding fixed-width",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.btn.edit?i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){e.clickBtn(2,t.row.id)}}},[e._v("修改")]):e._e(),e._v(" "),e.btn.info?i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){e.clickBtn(3,t.row.id)}}},[e._v("查看")]):e._e()]}}])})],1),e._v(" "),i("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,title:e.formTitle,visible:e.formVisible,width:"960px"},on:{"update:visible":function(t){e.formVisible=t}}},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],ref:"form",attrs:{model:e.form,"label-width":"130px"}},[i("el-row",[i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"矿池名称",required:""}},[i("el-input",{attrs:{disabled:3===e.formType,maxlength:"30"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"矿池所有者",required:""}},[i("el-input",{attrs:{disabled:3===e.formType,maxlength:"30"},model:{value:e.form.owner,callback:function(t){e.$set(e.form,"owner",t)},expression:"form.owner"}})],1)],1)]),e._v(" "),i("el-row",[i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"URL",required:""}},[i("el-input",{attrs:{disabled:3===e.formType,maxlength:"30"},model:{value:e.form.connectUrl,callback:function(t){e.$set(e.form,"connectUrl",t)},expression:"form.connectUrl"}})],1)],1),e._v(" "),i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"类型",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:3===e.formType},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.dicts.poolType.list,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)]),e._v(" "),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{disabled:3===e.formType,type:"textarea",rows:6,maxlength:"200"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),1!==e.formType?i("el-row",[i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"创建人"}},[i("el-input",{attrs:{disabled:3===e.formType||2===e.formType},model:{value:e.form.nameCreator,callback:function(t){e.$set(e.form,"nameCreator",t)},expression:"form.nameCreator"}})],1)],1),e._v(" "),i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"创建时间"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:3===e.formType||2===e.formType,type:"datetime"},model:{value:e.form.timeCreate,callback:function(t){e.$set(e.form,"timeCreate",t)},expression:"form.timeCreate"}})],1)],1)]):e._e(),e._v(" "),3===e.formType?i("el-row",[i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"修改人"}},[i("el-input",{attrs:{disabled:3===e.formType},model:{value:e.form.nameUpdater,callback:function(t){e.$set(e.form,"nameUpdater",t)},expression:"form.nameUpdater"}})],1)],1),e._v(" "),i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"修改时间"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:3===e.formType,type:"datetime"},model:{value:e.form.timeUpdate,callback:function(t){e.$set(e.form,"timeUpdate",t)},expression:"form.timeUpdate"}})],1)],1)]):e._e(),e._v(" "),i("el-form-item",[3!==e.formType?i("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v(e._s(e.btnName))]):e._e(),e._v(" "),3!==e.formType?i("el-button",{on:{click:e.addCancel}},[e._v("取消")]):e._e()],1)],1)],1)],1)},staticRenderFns:[]},d=i("/Xao")(m,f,!1,null,null,null);t.default=d.exports}});