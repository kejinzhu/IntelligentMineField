webpackJsonp([43],{eNBL:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("ZLEe"),l=e.n(i),o=e("HzJ8"),n=e.n(o),s=e("3cXf"),d=e.n(s),c=e("vLgD"),r=e("Mukr");var u={findAll:function(t){return Object(c.a)({url:"/down/shelfs",method:"get",params:t})},_download:function(t){var a=[];t.params&&(t.params.pageNo=0,t.params.pageSize=0,l()(t.params).forEach(function(e){a.push(e+"="+t.params[e])})),Object(r.a)(t.url+a.join("&"),t.name)},find:function(t){return Object(c.a)({url:"/down/shelfs/"+t,method:"get"})},create:function(t,a){var e="/down/shelfs";return a&&"c2"===a&&(e="/down/shelfs/nomachine"),Object(c.a)({url:e,method:"post",data:t})},update:function(t){return Object(c.a)({url:"/down/shelfs",method:"put",data:t})}},h=e("YgaF"),g=e("4T3X"),m=(e("DfAa"),e("hKuw")),f=e("Qb5e"),v=e("iwHt"),p=e("zbPT"),b=e("Q0Ca"),w=e("E4LH"),_=e("4spO"),S=[{code:"idMine",name:"矿场名称",up:!0,new:!0},{code:"noRoom",name:"机房号",up:!0,new:!0},{code:"nomachines",name:"机位号",up:!0,new:!0},{code:"idShelf",name:"货架号",up:!0,new:!0},{code:"noMachineStart",name:"机位起始号",up:!0,new:!0},{code:"noMachineEnd",name:"机位结束号",up:!0,new:!0},{code:"idReasonDown",name:"下架原因",up:!0,new:!0},{code:"idReasonDownDetail",name:"详细情况",up:!0,new:!1},{code:"idHandlerFollow",name:"后续处理",up:!0,new:!1},{code:"idVendor",name:"厂家名称",up:!0,new:!1},{code:"idRepair",name:"维修中心",up:!0,new:!1},{code:"dateDown",name:"下架日期",up:!0,new:!0},{code:"sns",name:"SN",up:!0,new:!0}],y={data:function(){return{list:{query:{},data:[],loading:!1},actionUrl:_.a.api+"/upload/sn",pageNo:1,totalCount:0,pageSize:10,dialog:{loading:!1,visible:!1,title:{c:"新增下架信息",u:"修改批量下架信息",v:"查看批量下架信息",c2:"新增批量下架信息"},btn:{c:"新增",u:"修改",v:"关闭",c2:"新增"},status:["c","u","v"],data:{}},fileList:[],dict:{mines:{list:[],obj:{}},rooms:{list:[],obj:{}},shelfVns:{list:[],obj:{}},noShelfs:{list:[],obj:{}},reasonDetials:{list:[],obj:{}},idHandlerFollow:{list:[],obj:{}},idVendor:{list:[],obj:{}},idRepair:{list:[],obj:{}},reasonDownlist:{list:[],obj:{}},machinelist:{list:[],obj:{}}}}},created:function(){this.fetchData(),this.initDict()},methods:{fetchData:function(){this.pageNo=1,this.search()},handleSizeChange:function(t){this.pageSize=t,this.fetchData()},changeMine:function(t,a){var e=this;this.dialog.data.noRoom=void 0,this.dialog.data.noMachine=void 0,this.dialog.data.idShelfVersion=void 0,this.dialog.data.idShelf=void 0,this.dialog.data.noMachineStart=void 0,this.dialog.data.noMachineEnd=void 0,this.dict.machinelist={list:[],obj:{}},this.dict.rooms={list:[],obj:{}},this.dict.shelfVns={list:[],obj:{}},this.dict.noShelfs={list:[],obj:{}};var i={};i.idMine=t,i.pageNo=0,i.pageSize=0,i.statusReady="0",i.statusUse="0",this.dialog.loading=!0;var l=this;m.a.findAll(i).then(function(t){var i=t.result?t.result.recordList:[],o={};i.length>0&&i.forEach(function(t){t.name=t.noRoom,o[t.id]=t.noRoom,a&&t.noRoom==a.noRoom&&l.changeRoom(t.id,a)});var n={};n.list=i||[],n.obj=o,e.dict.rooms=n,e.dialog.loading=!1}).catch(function(t){e.dialog.loading=!1})},changeRoom:function(t,a){var e=this;this.dialog.data.noRoom=t,this.dialog.data.idShelf=void 0,this.dialog.data.noMachineStart=void 0,this.dialog.data.noMachineEnd=void 0,this.dialog.data.noMachine=void 0,this.dict.machinelist={list:[],obj:{}},this.dict.noShelfs={list:[],obj:{}};var i={pageSize:0,pageNo:0};i.idMine=this.dialog.data.idMine,i.noRoom=this.dict.rooms.obj[this.dialog.data.noRoom],i.statusReady=0,i.statusUse=0,this.dialog.loading=!0;var l=this;v.a.getList(i).then(function(t){var i=t.result?t.result.recordList:[],o={};i.length>0&&i.forEach(function(t){t.name=t.noShelf,o[t.id]=t.noShelf,a&&a.noShelf===t.noShelf&&l.changeShelf(t.id,a)});var n={};n.list=i||[],n.obj=o,e.dict.noShelfs=n,e.dialog.loading=!1}).catch(function(t){e.dialog.loading=!1})},changeShelf:function(t,a){var e=this;if("c2"!==this.dialog.status){this.dialog.data.idShelf=t,this.dialog.data.noMachineStart=void 0,this.dialog.data.noMachineEnd=void 0,this.dialog.data.noMachine=void 0,this.dict.machinelist={list:[],obj:{}};var i={pageSize:0,pageNo:0};i.idMine=this.dialog.data.idMine,i.noRoom=this.dict.rooms.obj[this.dialog.data.noRoom],i.idShelfVersion=this.dialog.data.idShelfVersion,i.idShelf=t,i.statusReady=0,i.statusUse=0,this.dialog.loading=!0;var l=this;p.a.findAll(i).then(function(t){var o,n=t.result?t.result.recordList:[],s={},d=[];n.length>0&&n.forEach(function(t){t.noRoom===i.noRoom&&t.idShelf===i.idShelf&&(t.name=t.noMachine,s[t.id]=t.noMachine,d.push(t),a&&a.noMachine===t.noMachine&&l.changeMachine(t.id,a))}),d=d.sort((o="noMachine",function(t,a){return t[o]-a[o]}));var c={};c.list=d||[],c.obj=s,e.dict.machinelist=c,e.dialog.loading=!1}).catch(function(t){e.dialog.loading=!1})}},changeMachine:function(t,a){var e=this;this.dialog.data.noMachine=t,this.dialog.loading=!0,p.a.find(t).then(function(t){e.dialog.data.ip=t.result.ip,e.dialog.loading=!1}).catch(function(t){e.dialog.loading=!1})},changePool:function(t,a){var e=this;if(!this.dialog.data.idMine)return this.$message.error("请先选择矿场！"),this.dialog.data.idMineralPool=void 0,!1;this.dialog.data.idMineralPoolAccount=void 0,this.dict.userlist={list:[],obj:{}};var i={pageNo:0,pageSize:0};i.idMine=this.dialog.data.idMine,i.idMineralPool=t,Object(f.h)(i).then(function(t){var a=t.result?t.result.recordList:[],i={};a.length>0&&a.forEach(function(t){t.name=t.nameEn,i[t.id]=t.nameEn});var l={};l.list=a||[],l.obj=i,e.dict.userlist=l}).catch(function(t){e.list.loading=!1})},download:function(t){var a={};"1"===t?(a.url="/download/template/sn",a.name="SnTemplate"):(a.url="/download/down/shelf?",a.params=this.list.query,a.name="下架列表数据"),u._download(a)},handleExceed:function(t,a){this.$message.warning("当前限制选择 1个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+a.length)+" 个文件")},successFile:function(t,a,e){if(t.result){var i=[];t.result.forEach(function(t){i.push(t.sn)}),this.dialog.data.sns=i.join("\n")}else this.$message.warning("请上传excel格式的文件")},errorFile:function(t,a,e){this.$message.warning(t.message||"上传失败请检查上传内容")},removeFile:function(t,a){this.dialog.data.sns=void 0},beforeRemove:function(t,a){return this.$confirm("确定移除 "+t.name+"？")},initDict:function(){h.a.getMineList().then(function(t){this.dict.mines=t}.bind(this)),Object(g.a)("dict_18").then(function(t){this.dict.reasonDownlist=t}.bind(this)),Object(g.a)("dict_19").then(function(t){this.dict.reasonDetials=t}.bind(this)),Object(g.a)("dict_20").then(function(t){this.dict.idHandlerFollow=t}.bind(this)),Object(g.a)("dict_21").then(function(t){this.dict.idVendor=t}.bind(this)),Object(g.a)("dict_22").then(function(t){this.dict.idRepair=t}.bind(this))},showDialog:function(t,a){this.dialog.data={idMine:void 0,nameMine:void 0,noRoom:void 0,idShelfVersion:void 0,nameShelfVersion:void 0,idShelf:void 0,noShelf:void 0,noMachine:void 0,noMachineEnd:void 0,idReasonDown:void 0,reasonDown:void 0,idReasonDownDetail:void 0,reasonDownDetail:void 0,idHandlerFollow:void 0,handlerFollow:void 0,idVendor:void 0,nameVendor:void 0,idRepair:void 0,nameRepair:void 0,dateDown:void 0,statusSnBind:!0,statusIpBind:void 0,sns:void 0,remark:void 0,noMachineStart:void 0},this.dict.rooms={list:[],obj:{}},this.dict.shelfVns={list:[],obj:{}},this.dict.noShelfs={list:[],obj:{}},this.dict.machinelist={list:[],obj:{}},this.dialog.status=t,this.dialog.visible=!0,"c"!==t&&"c2"!==t?this.detail(a.id):this.dialog.data.dateDown=Object(b.parseTime)(new Date)},detail:function(t){var a=this;this.dialog.loading=!0,u.find(t).then(function(t){a.proccess(t.result)}).catch(function(t){a.dialog.loading=!1})},proccess:function(t){1==t.statusSnBind&&(t.statusSnBind=!0),1==t.statusIpBind&&(t.statusIpBind=!0),this.dialog.data.idMine=t.idMine,this.dialog.data=JSON.parse(d()(t)),this.changeMine(t.idMine,t),this.changePool(t.idMineralPool,t)},check:function(){var t=!0,a=!0,e=!1,i=void 0;try{for(var l,o=n()(S);!(a=(l=o.next()).done);a=!0){var s=l.value,d=this.dialog.data[s.code];if(("noMachineStart"!==s.code&&"noMachineEnd"!==s.code||"c2"!==this.dialog.status)&&("nomachines"!==s.code||"c2"===this.dialog.status)){if((void 0===d||null===d||""===d.toString().trim())&&s.new)return this.$message.error(s.name+"不能为空！"),t=!1,!1;this.dict.machinelist.obj[this.dialog.data.noMachineStart],this.dict.machinelist.obj[this.dialog.data.noMachineEnd]}}}catch(t){e=!0,i=t}finally{try{!a&&o.return&&o.return()}finally{if(e)throw i}}return t},submit:function(t){var a=this;if(this.dialog.loading=!0,this.check()){var e={nameMine:"idMine",noShelf:"idShelf",noRoom:"noRoom",noMachine:"noMachine",reasonDown:"idReasonDown",reasonDownDetail:"idReasonDownDetail",handlerFollow:"idHandlerFollow",nameVendor:"idVendor",nameRepair:"idRepair",noMachineStart:"noMachineStart",noMachineEnd:"noMachineEnd"},i={nameMine:"mines",noShelf:"noShelfs",noRoom:"rooms",noMachine:"machinelist",reasonDown:"reasonDownlist",reasonDownDetail:"reasonDetials",handlerFollow:"idHandlerFollow",nameVendor:"idVendor",nameRepair:"idRepair",noMachineStart:"machinelist",noMachineEnd:"machinelist"},o={},s=this;if("c"===this.dialog.status||"c2"===this.dialog.status){o=JSON.parse(d()(this.dialog.data)),l()(e).forEach(function(t){var a=e[t],l=i[t],n=s.dict[l].obj,d=s.dialog.data[a];d&&(o[t]=n[d])}),"c2"===this.dialog.status&&o.nomachines&&(o.nomachines=o.nomachines.trim().replace(/\s+/g,"\n").replace(/\n/g,",")),o.statusSnBind?o.statusSnBind=1:o.statusSnBind=0,o.statusIpBind?o.statusIpBind=1:o.statusIpBind=0,o.remark=this.dialog.data.remark||"",o.sns=o.sns.trim().replace(/\s+/g,"\n").replace(/\n/g,",");var c=w.a.checkSnList(o.sns);if(!c.status)return this.$message.error(""+c.message),void(this.dialog.loading=!1);o.dateDown=new Date(o.dateDown),u.create(o,this.dialog.status).then(function(e){a.submitSuccess(t)}).catch(function(t){a.dialog.loading=!1})}else if("u"===this.dialog.status){var r={id:this.dialog.data.id},h=!0,g=!1,m=void 0;try{for(var f,v=n()(S);!(h=(f=v.next()).done);h=!0){var p=f.value;p.up&&(r[p.code]=this.dialog.data[p.code])}}catch(t){g=!0,m=t}finally{try{!h&&v.return&&v.return()}finally{if(g)throw m}}l()(e).forEach(function(t){var a=e[t],l=i[t],o=s.dict[l].obj,n=s.dialog.data[a];n&&(r[t]=o[n])}),r.statusSnBind?r.statusSnBind=1:r.statusSnBind=0,r.statusIpBind?r.statusIpBind=1:r.statusIpBind=0,r.remark=this.dialog.data.remark||"",r.dateDown=new Date(r.dateDown),u.update(r).then(function(t){a.submitSuccess()}).catch(function(t){a.dialog.loading=!1})}else this.dialog.loading=!1}else this.dialog.loading=!1},submitSuccess:function(t){"save"===t?(this.dialog.data.noMachineStart=void 0,this.dialog.data.noMachineEnd=void 0,this.dialog.data.sns=void 0,this.dialog.data.remark=void 0,this.dialog.data.nomachines=void 0,this.$message({message:this.dialog.title[this.dialog.status]+"成功",type:"success"}),this.dialog.loading=!1):(this.$message({message:this.dialog.title[this.dialog.status]+"成功",type:"success"}),this.dialog.loading=!1,this.cancel()),this.fetchData()},cancel:function(){this.dialog.visible=!1},currentChange:function(t){this.pageNo=t,this.search()},search:function(){var t=this;this.list.loading=!0,this.list.query.pageNo=this.pageNo,this.list.query.pageSize=this.pageSize;var a=this.list.query;l()(a).forEach(function(e){var i=t.list.query[e];void 0!==i&&null!==i&&""!==i||(a[e]=void 0)}),a.dateDown&&(a.dateDown=Object(b.parseTime)(a.dateDown)),u.findAll(a).then(function(a){t.list.data=a.result.recordList,t.totalCount=a.result.totalRecord,t.list.loading=!1}).catch(function(a){t.list.loading=!1})}}},M={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container calendar-list-container"},[e("div",{staticClass:"filter-container"},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.list.query}},[e("el-form-item",{attrs:{label:"SN"}},[e("el-input",{model:{value:t.list.query.sn,callback:function(a){t.$set(t.list.query,"sn",a)},expression:"list.query.sn"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"机位编号"}},[e("el-input",{model:{value:t.list.query.codeMachine,callback:function(a){t.$set(t.list.query,"codeMachine",a)},expression:"list.query.codeMachine"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"下架日期"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:t.list.query.dateDown,callback:function(a){t.$set(t.list.query,"dateDown",a)},expression:"list.query.dateDown"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"下架原因"}},[e("el-select",{attrs:{clearable:"",placeholder:"全部"},model:{value:t.list.query.idReasonDown,callback:function(a){t.$set(t.list.query,"idReasonDown",a)},expression:"list.query.idReasonDown"}},t._l(t.dict.reasonDownlist.list,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.fetchData}},[t._v("查询")]),t._v(" "),t.btn.add?e("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){t.showDialog("c")}}},[t._v(t._s(t.btn.add))]):t._e(),t._v(" "),t.btn.addList?e("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){t.showDialog("c2")}}},[t._v(t._s(t.btn.addList))]):t._e(),t._v(" "),t.btn.outexcl?e("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(a){t.download("1")}}},[t._v(t._s(t.btn.outexcl))]):t._e(),t._v(" "),t.btn.outexcllist?e("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(a){t.download("2")}}},[t._v(t._s(t.btn.outexcllist))]):t._e()],1)],1)],1),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.list.loading,expression:"list.loading",modifiers:{body:!0}}],attrs:{stripe:"",data:t.list.data,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[e("el-table-column",{attrs:{label:"机位编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.codeMachine))]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"SN",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.sn))]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"IP",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.ip))]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"下架时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t._f("parseTime")(a.row.dateDown)))]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"下架原因",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.reasonDown))]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"矿场",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.dict.mines.obj[a.row.idMine]))]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"是否解绑SN",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(1==a.row.statusSnBind?"是":"否"))]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"是否解绑IP",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(1==a.row.statusIpBind?"是":"否"))]}}])}),t._v(" "),e("el-table-column",{staticStyle:{"white-space":"nowrap"},attrs:{align:"center",label:"操作","class-name":"mid-padding fixed-width",width:"230"},scopedSlots:t._u([{key:"default",fn:function(a){return[t.btn.info?e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){t.showDialog("v",a.row)}}},[t._v(t._s(t.btn.info))]):t._e()]}}])})],1),t._v(" "),e("div",{staticClass:"pagination-container",staticStyle:{"margin-top":"20px","text-align":"left"}},[e("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30,40,50,60,70,80,90,100],"current-page":t.pageNo,total:t.totalCount,"page-size":t.pageSize},on:{"size-change":t.handleSizeChange,"current-change":t.currentChange}})],1),t._v(" "),e("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,title:t.dialog.title[t.dialog.status],visible:t.dialog.visible,width:"800px"},on:{"update:visible":function(a){t.$set(t.dialog,"visible",a)}}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.dialog.loading,expression:"dialog.loading"}],attrs:{model:t.dialog.data,"label-width":"100px"}},[e("el-row",[e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"矿场名称",required:""}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},on:{change:function(a){t.changeMine(t.dialog.data.idMine)}},model:{value:t.dialog.data.idMine,callback:function(a){t.$set(t.dialog.data,"idMine",a)},expression:"dialog.data.idMine"}},t._l(t.dict.mines.list,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"机房号",required:""}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},on:{change:function(a){t.changeRoom(t.dialog.data.noRoom)}},model:{value:t.dialog.data.noRoom,callback:function(a){t.$set(t.dialog.data,"noRoom",a)},expression:"dialog.data.noRoom"}},t._l(t.dict.rooms.list,function(a,i){return e("el-option",{key:i,attrs:{label:t._f("padStart")(a.name,2,"0"),value:a.id}})}))],1)],1)]),t._v(" "),e("el-row",[e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"货架号",required:""}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},on:{change:function(a){t.changeShelf(t.dialog.data.idShelf)}},model:{value:t.dialog.data.idShelf,callback:function(a){t.$set(t.dialog.data,"idShelf",a)},expression:"dialog.data.idShelf"}},t._l(t.dict.noShelfs.list,function(a,i){return e("el-option",{key:i,attrs:{label:t._f("padStart")(a.name,3,"0"),value:a.id}})}))],1)],1)]),t._v(" "),e("el-row",["c2"===t.dialog.status?e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"机位号",required:""}},[e("el-input",{staticStyle:{"min-height":"33px"},attrs:{type:"textarea",rows:"6",placeholder:"请填写机位号(一行只能填写一个机位号)",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.nomachines,callback:function(a){t.$set(t.dialog.data,"nomachines",a)},expression:"dialog.data.nomachines"}})],1)],1):t._e(),t._v(" "),"c2"===t.dialog.status?e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"SN",required:""}},[e("el-input",{staticStyle:{"min-height":"33px"},attrs:{type:"textarea",rows:"6",placeholder:"请填写SN号",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.sns,callback:function(a){t.$set(t.dialog.data,"sns",a)},expression:"dialog.data.sns"}})],1)],1):t._e(),t._v(" "),"c"===t.dialog.status?e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"机位起始号",required:""}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.noMachineStart,callback:function(a){t.$set(t.dialog.data,"noMachineStart",a)},expression:"dialog.data.noMachineStart"}},t._l(t.dict.machinelist.list,function(a,i){return e("el-option",{key:i,attrs:{label:t._f("padStart")(a.name,3,"0"),value:a.id}})}))],1)],1):t._e(),t._v(" "),"c"===t.dialog.status?e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"机位结束号",required:""}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.noMachineEnd,callback:function(a){t.$set(t.dialog.data,"noMachineEnd",a)},expression:"dialog.data.noMachineEnd"}},t._l(t.dict.machinelist.list,function(a,i){return e("el-option",{key:i,attrs:{label:t._f("padStart")(a.name,3,"0"),value:a.id}})}))],1)],1):t._e(),t._v(" "),"c"!==t.dialog.status&&"c2"!==t.dialog.status?e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"IP"}},[e("el-input",{attrs:{disabled:""},model:{value:t.dialog.data.ip,callback:function(a){t.$set(t.dialog.data,"ip",a)},expression:"dialog.data.ip"}})],1)],1):t._e(),t._v(" "),"c"!==t.dialog.status&&"c2"!==t.dialog.status?e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"机位号"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},on:{change:function(a){t.changeMachine(t.dialog.data.noMachine)}},model:{value:t.dialog.data.noMachine,callback:function(a){t.$set(t.dialog.data,"noMachine",a)},expression:"dialog.data.noMachine"}},t._l(t.dict.machinelist.list,function(a,i){return e("el-option",{key:i,attrs:{label:t._f("padStart")(a.name,3,"0"),value:a.id}})}))],1)],1):t._e()]),t._v(" "),e("el-row",[e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"下架原因",required:""}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.idReasonDown,callback:function(a){t.$set(t.dialog.data,"idReasonDown",a)},expression:"dialog.data.idReasonDown"}},t._l(t.dict.reasonDownlist.list,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"详细情况"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.idReasonDownDetail,callback:function(a){t.$set(t.dialog.data,"idReasonDownDetail",a)},expression:"dialog.data.idReasonDownDetail"}},t._l(t.dict.reasonDetials.list,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1)],1)]),t._v(" "),e("el-row",[e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"后续处理"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.idHandlerFollow,callback:function(a){t.$set(t.dialog.data,"idHandlerFollow",a)},expression:"dialog.data.idHandlerFollow"}},t._l(t.dict.idHandlerFollow.list,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"厂家名称"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.idVendor,callback:function(a){t.$set(t.dialog.data,"idVendor",a)},expression:"dialog.data.idVendor"}},t._l(t.dict.idVendor.list,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1)],1)]),t._v(" "),e("el-row",[e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"维修中心"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.idRepair,callback:function(a){t.$set(t.dialog.data,"idRepair",a)},expression:"dialog.data.idRepair"}},t._l(t.dict.idRepair.list,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),"c"!==t.dialog.status?e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"SN"}},[e("el-input",{attrs:{disabled:!0},model:{value:t.dialog.data.sn,callback:function(a){t.$set(t.dialog.data,"sn",a)},expression:"dialog.data.sn"}})],1)],1):t._e()]),t._v(" "),e("el-row",[e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"下架日期",required:""}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.dateDown,callback:function(a){t.$set(t.dialog.data,"dateDown",a)},expression:"dialog.data.dateDown"}})],1)],1),t._v(" "),e("div",{staticClass:"el-col el-col-6"},[e("el-form-item",{attrs:{label:"解绑SN",required:""}},[e("el-switch",{attrs:{disabled:!0},model:{value:t.dialog.data.statusSnBind,callback:function(a){t.$set(t.dialog.data,"statusSnBind",a)},expression:"dialog.data.statusSnBind"}})],1)],1),t._v(" "),e("div",{staticClass:"el-col el-col-6"},[e("el-form-item",{staticClass:"el-col el-col-6",attrs:{label:"解绑IP",offset:2}},[e("el-switch",{attrs:{disabled:"v"===t.dialog.status},model:{value:t.dialog.data.statusIpBind,callback:function(a){t.$set(t.dialog.data,"statusIpBind",a)},expression:"dialog.data.statusIpBind"}})],1)],1)]),t._v(" "),"c"===t.dialog.status?e("el-row",[e("el-form-item",{attrs:{label:"SN",required:""}},[e("el-input",{staticStyle:{"min-height":"33px"},attrs:{type:"textarea",rows:"6",placeholder:"请填写SN号",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.sns,callback:function(a){t.$set(t.dialog.data,"sns",a)},expression:"dialog.data.sns"}})],1)],1):t._e(),t._v(" "),"c"===t.dialog.status||"c2"===t.dialog.status?e("el-row",[e("el-form-item",{attrs:{label:"批量导入SN"}},[e("el-upload",{staticClass:"upload-demo",attrs:{action:t.actionUrl,limit:1,"on-exceed":t.handleExceed,"on-success":t.successFile,"on-error":t.errorFile,"on-remove":t.removeFile,"before-remove":t.beforeRemove,"file-list":t.fileList}},[e("el-button",{attrs:{size:"small",type:"primary"}},[e("i",{staticClass:"el-icon-upload el-icon--right"}),t._v("点击上传")]),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xlsx文件，文件名不能为中文,且不超过500kb")])],1)],1)],1):t._e(),t._v(" "),e("el-row",[e("el-form-item",{attrs:{label:"备注"}},[e("el-input",{staticStyle:{resize:"none"},attrs:{type:"textarea",maxlength:"200",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.remark,callback:function(a){t.$set(t.dialog.data,"remark",a)},expression:"dialog.data.remark"}})],1)],1),t._v(" "),"c"!==t.dialog.status&&"c2"!==t.dialog.status?e("el-row",[e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"创建人"}},[e("el-input",{attrs:{disabled:!0},model:{value:t.dialog.data.nameCreator,callback:function(a){t.$set(t.dialog.data,"nameCreator",a)},expression:"dialog.data.nameCreator"}})],1)],1),t._v(" "),e("div",{staticClass:"el-col el-col-12"},[e("el-form-item",{attrs:{label:"创建时间"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",disabled:!0},model:{value:t.dialog.data.timeCreate,callback:function(a){t.$set(t.dialog.data,"timeCreate",a)},expression:"dialog.data.timeCreate"}})],1)],1)]):t._e(),t._v(" "),e("el-row",[e("div",{staticClass:"el-col el-col-16"},[e("el-form-item",["v"!==t.dialog.status?e("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v(t._s(t.dialog.btn[t.dialog.status]))]):t._e(),t._v(" "),"v"!==t.dialog.status?e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.submit("save")}}},[t._v("保存并继续新增")]):t._e(),t._v(" "),e("el-button",{on:{click:t.cancel}},[t._v(t._s("v"===t.dialog.status?t.dialog.btn[t.dialog.status]:"取消"))])],1)],1)])],1)],1)],1)},staticRenderFns:[]},k=e("/Xao")(y,M,!1,null,null,null);a.default=k.exports}});