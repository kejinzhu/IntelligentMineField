webpackJsonp([42],{kBlD:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("ZLEe"),l=i.n(e),o=i("HzJ8"),n=i.n(o),s=i("3cXf"),d=i.n(s),c=i("vLgD"),r=i("Mukr");var u={findAll:function(t){return Object(c.a)({url:"/up/shelfs",method:"get",params:t})},_download:function(t){var a=[];t.params&&(t.params.pageNo=0,t.params.pageSize=0,l()(t.params).forEach(function(i){a.push(i+"="+t.params[i])})),Object(r.a)(t.url+a.join("&"),t.name)},find:function(t){return Object(c.a)({url:"/up/shelfs/"+t,method:"get"})},create:function(t,a){var i="c2"===a?"/up/shelfs":"/up/shelfs/nomachine";return Object(c.a)({url:i,method:"post",data:t})},update:function(t){return Object(c.a)({url:"/up/shelfs",method:"put",data:t})}},h=i("YgaF"),g=i("4T3X"),m=i("DfAa"),f=i("hKuw"),v=i("Qb5e"),p=i("iwHt"),b=i("zbPT"),_=i("Q0Ca"),S=i("E4LH"),M=i("4spO"),y=[{code:"idMine",name:"矿场名称",up:!0},{code:"noRoom",name:"机房号",up:!0},{code:"idShelf",name:"货架号",up:!0},{code:"noMachineStart",name:"机位起始号",only:"c2"},{code:"noMachineEnd",name:"机位结束号",only:"c2"},{code:"nomachines",name:"机位号",only:"c"},{code:"idMineralPool",name:"矿池",up:!0},{code:"idMineralPoolAccount",name:"矿池账户",up:!0},{code:"dateUp",name:"上架日期",up:!0},{code:"idReasonUp",name:"上架原因",up:!0},{code:"sns",name:"SN",up:!0}],k={data:function(){return{list:{query:{},data:[],loading:!1},actionUrl:M.a.api+"/upload/sn",pageNo:1,totalCount:0,pageSize:10,dialog:{loading:!1,visible:!1,title:{c:"新增上架信息",u:"修改上架信息",v:"上架详情信息"},btn:{c:"新增",u:"修改",v:"关闭"},status:["c","u","v"],data:{}},addStatus:"",fileList:[],dict:{mines:{list:[],obj:{}},rooms:{list:[],obj:{}},shelfVns:{list:[],obj:{}},noShelfs:{list:[],obj:{}},poolls:{list:[],obj:{}},userlist:{list:[],obj:{}},reasonUplist:{list:[],obj:{}},machinelist:{list:[],obj:{}}}}},created:function(){this.fetchData(),this.initDict()},methods:{fetchData:function(){this.pageNo=1,this.search()},handleSizeChange:function(t){this.pageSize=t,this.fetchData()},changeMine:function(t,a){var i=this;this.dialog.data.idMineralPool=void 0,this.dialog.data.noRoom=void 0,this.dialog.data.noMachine=void 0,this.dialog.data.idShelfVersion=void 0,this.dialog.data.idShelf=void 0,this.dialog.data.noMachineStart=void 0,this.dialog.data.noMachineEnd=void 0,this.dialog.data.idMineralPoolAccount=void 0,this.dialog.data.ip=void 0,this.dict.machinelist={list:[],obj:{}},this.dict.rooms={list:[],obj:{}},this.dict.shelfVns={list:[],obj:{}},this.dict.noShelfs={list:[],obj:{}};var e={};e.idMine=t,e.pageNo=0,e.pageSize=0,e.statusReady="0",e.statusUse="0",this.dialog.loading=!0;var l=this;f.a.findAll(e).then(function(t){var e=t.result?t.result.recordList:[],o={};e.length>0&&e.forEach(function(t){t.name=t.noRoom,o[t.id]=t.noRoom,a&&t.noRoom==a.noRoom&&l.changeRoom(t.id,a)});var n={};n.list=e||[],n.obj=o,i.dict.rooms=n,i.dialog.loading=!1}).catch(function(t){i.dialog.loading=!1})},changeRoom:function(t,a){var i=this;this.dialog.data.noRoom=t,this.dialog.data.idShelf=void 0,this.dialog.data.noMachineStart=void 0,this.dialog.data.noMachineEnd=void 0,this.dialog.data.ip=void 0,this.dialog.data.noMachine=void 0,this.dict.machinelist={list:[],obj:{}},this.dict.noShelfs={list:[],obj:{}};var e={pageSize:0,pageNo:0};e.idMine=this.dialog.data.idMine,e.noRoom=this.dict.rooms.obj[this.dialog.data.noRoom],e.statusReady=0,e.statusUse=0,this.dialog.loading=!0;var l=this;p.a.getList(e).then(function(t){var e=t.result?t.result.recordList:[],o={};e.length>0&&e.forEach(function(t){t.name=t.noShelf,o[t.id]=t.noShelf,a&&a.noShelf===t.noShelf&&l.changeShelf(t.id,a)});var n={};n.list=e||[],n.obj=o,i.dict.noShelfs=n,i.dialog.loading=!1}).catch(function(t){i.dialog.loading=!1})},changeShelf:function(t,a){var i=this;if("c"!==this.addStatus){this.dialog.data.idShelf=t,this.dialog.data.noMachineStart=void 0,this.dialog.data.noMachineEnd=void 0,this.dialog.data.ip=void 0,this.dialog.data.noMachine=void 0,this.dict.machinelist={list:[],obj:{}};var e={pageSize:0,pageNo:0};e.idMine=this.dialog.data.idMine,e.noRoom=this.dict.rooms.obj[this.dialog.data.noRoom],e.idShelfVersion=this.dialog.data.idShelfVersion,e.idShelf=t,e.statusReady=0,e.statusUse=0,this.dialog.loading=!0;var l=this;b.a.findAll(e).then(function(t){var o,n=t.result?t.result.recordList:[],s={},d=[];n.length>0&&n.forEach(function(t){t.noRoom===e.noRoom&&t.idShelf===e.idShelf&&(t.name=t.noMachine,s[t.id]=t.noMachine,d.push(t),a&&a.noMachine===t.noMachine&&(console.log(1),l.changeMachine(t.id,a)))}),d=d.sort((o="noMachine",function(t,a){return t[o]-a[o]}));var c={};c.list=d||[],c.obj=s,i.dict.machinelist=c,i.dialog.loading=!1}).catch(function(t){i.dialog.loading=!1})}},changeMachine:function(t,a){var i=this;this.dialog.data.noMachine=t,this.dialog.loading=!0,b.a.find(t).then(function(t){i.dialog.data.ip=t.result.ip,i.dialog.loading=!1}).catch(function(t){i.dialog.loading=!1})},changePool:function(t,a){var i=this;if(!this.dialog.data.idMine)return this.dialog.data.idMineralPool=void 0,!1;this.dialog.data.idMineralPoolAccount=void 0,this.dict.userlist={list:[],obj:{}};var e={pageNo:0,pageSize:0};e.idMine=this.dialog.data.idMine,e.idMineralPool=t,Object(v.h)(e).then(function(t){var e=t.result?t.result.recordList:[],l={};e.length>0&&e.forEach(function(t){t.name=t.nameEn,l[t.id]=t.nameEn});var o={};o.list=e||[],o.obj=l,i.dict.userlist=o,a&&(i.dialog.data.idMineralPool=a.idMineralPool,i.dialog.data.idMineralPoolAccount=a.idMineralPoolAccount)}).catch(function(t){i.list.loading=!1})},download:function(t){var a={};"1"===t?(a.url="/download/template/sn",a.name="SnTemplate"):(a.url="/download/up/shelf?",a.params=this.list.query,a.name="上架列表数据"),u._download(a)},handleExceed:function(t,a){this.$message.warning("当前限制选择 1个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+a.length)+" 个文件")},successFile:function(t,a,i){if(t.result){var e=[];t.result.forEach(function(t){e.push(t.sn)}),this.dialog.data.sns=e.join("\n")}else this.$message.warning("请上传excel格式的文件")},errorFile:function(t,a,i){this.$message.warning(t.message||"上传失败请检查上传内容")},removeFile:function(t,a){this.dialog.data.sns=void 0},beforeRemove:function(t,a){return this.$confirm("确定移除 "+t.name+"？")},initDict:function(){var t=this,a=this;h.a.getMineList().then(function(t){this.dict.mines=t}.bind(this));Object(m.c)({}).then(function(i){t.dict.poolls.list=i.result,i.result.length>0&&i.result.forEach(function(t){a.dict.poolls.obj[t.id]=t.name})}),Object(g.a)("dict_16").then(function(t){this.dict.reasonUplist=t}.bind(this))},showDialog:function(t,a){this.addStatus="",this.addStatus=t,"c2"==t&&(t="c"),this.dialog.data={idMine:void 0,noRoom:void 0,idShelfVersion:void 0,idShelf:void 0,noMachineEnd:void 0,idMineralPool:void 0,idMineralPoolAccount:void 0,ip:"",nomachines:void 0,dateUp:void 0,reasonUp:void 0,sns:void 0,remark:void 0,noMachineStart:void 0},this.dict.machinelist={list:[],obj:{}},this.dict.rooms={list:[],obj:{}},this.dict.shelfVns={list:[],obj:{}},this.dict.noShelfs={list:[],obj:{}},this.dict.userlist={list:[],obj:{}},this.dialog.status=t,this.dialog.visible=!0,"c"!==t&&this.detail(a.id)},detail:function(t){var a=this;this.dialog.loading=!0,u.find(t).then(function(t){a.proccess(t.result)}).catch(function(t){a.dialog.loading=!1})},proccess:function(t){this.dialog.data.idMine=t.idMine,this.dialog.data=JSON.parse(d()(t)),this.changeMine(t.idMine,t),this.changePool(t.idMineralPool,t)},check:function(){var t=!0,a=this,i=!0,e=!1,l=void 0;try{for(var o,s=n()(y);!(i=(o=s.next()).done);i=!0){var d=o.value,c=this.dialog.data[d.code];if(("c"!==this.addStatus||"noMachineStart"!==d.code&&"noMachineEnd"!==d.code)&&("c2"!==this.addStatus||"nomachines"!==d.code)){if(void 0===c||null===c||""===c.toString().trim())return r(d.name);this.dict.machinelist.obj[this.dialog.data.noMachineStart],this.dict.machinelist.obj[this.dialog.data.noMachineEnd]}}}catch(t){e=!0,l=t}finally{try{!i&&s.return&&s.return()}finally{if(e)throw l}}function r(i){return a.$message.error(i+"不能为空！"),t=!1,!1}return t},submit:function(t){var a=this;if(this.dialog.loading=!0,this.check()){var i={nameCnMine:"idMine",noShelf:"idShelf",noRoom:"noRoom",noMachine:"noMachine",nameMineralPool:"idMineralPool",nameMineralPoolAccount:"idMineralPoolAccount",reasonUp:"idReasonUp",noMachineStart:"noMachineStart",noMachineEnd:"noMachineEnd"},e={nameCnMine:"mines",noShelf:"noShelfs",noRoom:"rooms",noMachine:"machinelist",nameMineralPool:"poolls",nameMineralPoolAccount:"userlist",reasonUp:"reasonUplist",noMachineStart:"machinelist",noMachineEnd:"machinelist"};if("c"===this.dialog.status){var o={},s=this;o=JSON.parse(d()(this.dialog.data)),l()(i).forEach(function(t){var a=i[t],l=e[t],n=s.dict[l].obj,d=s.dialog.data[a];d&&(o[t]=n[d])}),o.remark=this.dialog.data.remark||"",o.nomachines&&(o.nomachines=o.nomachines.trim().replace(/\s+/g,"\n").replace(/\n/g,",")),o.sns=o.sns.trim().replace(/\s+/g,"\n").replace(/\n/g,",");var c=S.a.checkSnList(o.sns);if(!c.status)return this.$message.error(""+c.message),void(this.dialog.loading=!1);u.create(o,this.addStatus).then(function(i){a.submitSuccess(t)}).catch(function(t){a.dialog.loading=!1})}else if("u"===this.dialog.status){var r={id:this.dialog.data.id},h=!0,g=!1,m=void 0;try{for(var f,v=n()(y);!(h=(f=v.next()).done);h=!0){var p=f.value;p.up&&(r[p.code]=this.dialog.data[p.code])}}catch(t){g=!0,m=t}finally{try{!h&&v.return&&v.return()}finally{if(g)throw m}}l()(i).forEach(function(t){var a=i[t],l=e[t],o=_this.dict[l].obj,n=_this.dialog.data[a];n&&(r[t]=o[n])}),r.remark=this.dialog.data.remark||"",u.update(r).then(function(t){a.submitSuccess()}).catch(function(t){a.dialog.loading=!1})}else this.dialog.loading=!1}else this.dialog.loading=!1},submitSuccess:function(t){"save"===t?(this.dialog.data.noMachineStart=void 0,this.dialog.data.noMachineEnd=void 0,this.dialog.data.sns=void 0,this.dialog.data.remark=void 0,this.dialog.data.nomachines=void 0,this.$message({message:this.dialog.title[this.dialog.status]+"成功",type:"success"}),this.dialog.loading=!1):(this.$message({message:this.dialog.title[this.dialog.status]+"成功",type:"success"}),this.dialog.loading=!1,this.cancel()),this.fetchData()},cancel:function(){this.dialog.visible=!1},currentChange:function(t){this.pageNo=t,this.search()},search:function(){var t=this;this.list.loading=!0,this.list.query.pageNo=this.pageNo,this.list.query.pageSize=this.pageSize;var a=this.list.query;l()(a).forEach(function(i){var e=t.list.query[i];void 0!==e&&null!==e&&""!==e||(a[i]=void 0)}),a.dateUp&&(a.dateUp=Object(_.parseTime)(a.dateUp)),u.findAll(a).then(function(a){t.list.data=a.result.recordList,t.totalCount=a.result.totalRecord,t.list.loading=!1}).catch(function(a){t.list.loading=!1})}}},w={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"app-container calendar-list-container"},[i("div",{staticClass:"filter-container"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.list.query}},[i("el-form-item",{attrs:{label:"SN"}},[i("el-input",{model:{value:t.list.query.sn,callback:function(a){t.$set(t.list.query,"sn",a)},expression:"list.query.sn"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"机位编号"}},[i("el-input",{model:{value:t.list.query.codeMachine,callback:function(a){t.$set(t.list.query,"codeMachine",a)},expression:"list.query.codeMachine"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"上架日期"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:t.list.query.dateUp,callback:function(a){t.$set(t.list.query,"dateUp",a)},expression:"list.query.dateUp"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.fetchData}},[t._v("查询")]),t._v(" "),t.btn.add2?i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){t.showDialog("c2")}}},[t._v(t._s(t.btn.add2))]):t._e(),t._v(" "),t.btn.add?i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){t.showDialog("c")}}},[t._v(t._s(t.btn.add))]):t._e(),t._v(" "),t.btn.outexcl?i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(a){t.download("1")}}},[t._v(t._s(t.btn.outexcl))]):t._e(),t._v(" "),t.btn.outexcllist?i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-success"},on:{click:function(a){t.download("2")}}},[t._v(t._s(t.btn.outexcllist))]):t._e(),t._v(" "),t.btn.useList?i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:""},on:{click:function(a){t.showDialog("update")}}},[t._v(t._s(t.btn.useList))]):t._e()],1)],1)],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.list.loading,expression:"list.loading",modifiers:{body:!0}}],attrs:{stripe:"",data:t.list.data,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"矿场名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.nameCnMine))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"机位编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.codeMachine))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"SN",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.sn))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"IP",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.ip))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"上架日期",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t._f("parseTime")(a.row.dateUp)))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"型号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.nameMachineVersion))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"矿池",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.nameMineralPool))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"矿池账户",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.nameMineralPoolAccount))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"矿工号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.codeMachine))]}}])}),t._v(" "),i("el-table-column",{staticStyle:{"white-space":"nowrap"},attrs:{align:"center",label:"操作","class-name":"mid-padding fixed-width",width:"230"},scopedSlots:t._u([{key:"default",fn:function(a){return[t.btn.info?i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){t.showDialog("v",a.row)}}},[t._v(t._s(t.btn.info))]):t._e()]}}])})],1),t._v(" "),i("div",{staticClass:"pagination-container",staticStyle:{"margin-top":"20px","text-align":"left"}},[i("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30,40,50,60,70,80,90,100],"current-page":t.pageNo,total:t.totalCount,"page-size":t.pageSize},on:{"size-change":t.handleSizeChange,"current-change":t.currentChange}})],1),t._v(" "),i("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,title:"c"===t.addStatus?t.btn.add+"信息":t.dialog.title[t.dialog.status],visible:t.dialog.visible,width:"800px"},on:{"update:visible":function(a){t.$set(t.dialog,"visible",a)}}},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.dialog.loading,expression:"dialog.loading"}],attrs:{model:t.dialog.data,"label-width":"100px"}},[i("el-row",[i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"矿场名称",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},on:{change:function(a){t.changeMine(t.dialog.data.idMine)}},model:{value:t.dialog.data.idMine,callback:function(a){t.$set(t.dialog.data,"idMine",a)},expression:"dialog.data.idMine"}},t._l(t.dict.mines.list,function(t,a){return i("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"机房号",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},on:{change:function(a){t.changeRoom(t.dialog.data.noRoom)}},model:{value:t.dialog.data.noRoom,callback:function(a){t.$set(t.dialog.data,"noRoom",a)},expression:"dialog.data.noRoom"}},t._l(t.dict.rooms.list,function(a,e){return i("el-option",{key:e,attrs:{label:t._f("padStart")(a.name,2,"0"),value:a.id}})}))],1)],1)]),t._v(" "),i("el-row",[i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"货架号",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},on:{change:function(a){t.changeShelf(t.dialog.data.idShelf)}},model:{value:t.dialog.data.idShelf,callback:function(a){t.$set(t.dialog.data,"idShelf",a)},expression:"dialog.data.idShelf"}},t._l(t.dict.noShelfs.list,function(a,e){return i("el-option",{key:e,attrs:{label:t._f("padStart")(a.name,3,"0"),value:a.id}})}))],1)],1)]),t._v(" "),i("el-row",["c2"===t.addStatus?i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"机位起始号",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.noMachineStart,callback:function(a){t.$set(t.dialog.data,"noMachineStart",a)},expression:"dialog.data.noMachineStart"}},t._l(t.dict.machinelist.list,function(a,e){return i("el-option",{key:e,attrs:{label:t._f("padStart")(a.name,3,"0"),value:a.id}})}))],1)],1):t._e(),t._v(" "),"c2"===t.addStatus?i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"机位结束号",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.noMachineEnd,callback:function(a){t.$set(t.dialog.data,"noMachineEnd",a)},expression:"dialog.data.noMachineEnd"}},t._l(t.dict.machinelist.list,function(a,e){return i("el-option",{key:e,attrs:{label:t._f("padStart")(a.name,3,"0"),value:a.id}})}))],1)],1):t._e(),t._v(" "),"c"!==t.dialog.status?i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"IP"}},[i("el-input",{attrs:{disabled:""},model:{value:t.dialog.data.ip,callback:function(a){t.$set(t.dialog.data,"ip",a)},expression:"dialog.data.ip"}})],1)],1):t._e(),t._v(" "),"c"!==t.dialog.status?i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"机位号"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},on:{change:function(a){t.changeMachine(t.dialog.data.noMachine)}},model:{value:t.dialog.data.noMachine,callback:function(a){t.$set(t.dialog.data,"noMachine",a)},expression:"dialog.data.noMachine"}},t._l(t.dict.machinelist.list,function(a,e){return i("el-option",{key:e,attrs:{label:t._f("padStart")(a.name,3,"0"),value:a.id}})}))],1)],1):t._e()]),t._v(" "),i("el-row",[i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"矿池",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},on:{change:function(a){t.changePool(t.dialog.data.idMineralPool)}},model:{value:t.dialog.data.idMineralPool,callback:function(a){t.$set(t.dialog.data,"idMineralPool",a)},expression:"dialog.data.idMineralPool"}},t._l(t.dict.poolls.list,function(t,a){return i("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"矿池账户",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.idMineralPoolAccount,callback:function(a){t.$set(t.dialog.data,"idMineralPoolAccount",a)},expression:"dialog.data.idMineralPoolAccount"}},t._l(t.dict.userlist.list,function(t,a){return i("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1)],1)]),t._v(" "),i("el-row",[i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"上架日期",required:""}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.dateUp,callback:function(a){t.$set(t.dialog.data,"dateUp",a)},expression:"dialog.data.dateUp"}})],1)],1),t._v(" "),i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"上架原因",required:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.idReasonUp,callback:function(a){t.$set(t.dialog.data,"idReasonUp",a)},expression:"dialog.data.idReasonUp"}},t._l(t.dict.reasonUplist.list,function(t,a){return i("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1)],1)]),t._v(" "),"c"===t.dialog.status&&"c2"!==t.addStatus?i("el-row",[i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"机位号",required:""}},[i("el-input",{staticStyle:{"min-height":"33px"},attrs:{type:"textarea",rows:"6",placeholder:"请填写机位号(一行只能填写一个机位号)",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.nomachines,callback:function(a){t.$set(t.dialog.data,"nomachines",a)},expression:"dialog.data.nomachines"}})],1)],1),t._v(" "),i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"SN",required:""}},[i("el-input",{staticStyle:{"min-height":"33px"},attrs:{type:"textarea",rows:"6",placeholder:"请填写SN号",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.sns,callback:function(a){t.$set(t.dialog.data,"sns",a)},expression:"dialog.data.sns"}})],1)],1)]):t._e(),t._v(" "),"c2"===t.addStatus?i("el-row",[i("el-form-item",{attrs:{label:"SN",required:""}},[i("el-input",{staticStyle:{"min-height":"33px"},attrs:{type:"textarea",rows:"6",placeholder:"请填写SN号",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.sns,callback:function(a){t.$set(t.dialog.data,"sns",a)},expression:"dialog.data.sns"}})],1)],1):t._e(),t._v(" "),"c"===t.dialog.status?i("el-row",[i("el-form-item",{attrs:{label:"批量导入SN"}},[i("el-upload",{staticClass:"upload-demo",attrs:{action:t.actionUrl,limit:1,"on-exceed":t.handleExceed,"on-success":t.successFile,"on-error":t.errorFile,"on-remove":t.removeFile,"before-remove":t.beforeRemove,"file-list":t.fileList}},[i("el-button",{attrs:{size:"small",type:"primary"}},[i("i",{staticClass:"el-icon-upload el-icon--right"}),t._v("点击上传")]),t._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xlsx文件，文件名不能为中文,且不超过500kb")])],1)],1)],1):t._e(),t._v(" "),i("el-row",[i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{staticStyle:{resize:"none"},attrs:{type:"textarea",rows:"4",maxlength:"200",disabled:"v"===t.dialog.status},model:{value:t.dialog.data.remark,callback:function(a){t.$set(t.dialog.data,"remark",a)},expression:"dialog.data.remark"}})],1)],1),t._v(" "),"c"!==t.dialog.status?i("el-row",[i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"创建人"}},[i("el-input",{attrs:{disabled:!0},model:{value:t.dialog.data.nameCreator,callback:function(a){t.$set(t.dialog.data,"nameCreator",a)},expression:"dialog.data.nameCreator"}})],1)],1),t._v(" "),i("div",{staticClass:"el-col el-col-12"},[i("el-form-item",{attrs:{label:"创建时间"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",disabled:!0},model:{value:t.dialog.data.timeCreate,callback:function(a){t.$set(t.dialog.data,"timeCreate",a)},expression:"dialog.data.timeCreate"}})],1)],1)]):t._e(),t._v(" "),i("el-row",[i("div",{staticClass:"el-col el-col-16"},[i("el-form-item",["v"!==t.dialog.status?i("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v(t._s(t.dialog.btn[t.dialog.status]))]):t._e(),t._v(" "),"c"===t.dialog.status?i("el-button",{attrs:{type:"primary"},on:{click:function(a){t.submit("save")}}},[t._v("保存并继续新增")]):t._e(),t._v(" "),i("el-button",{on:{click:t.cancel}},[t._v(t._s("v"===t.dialog.status?t.dialog.btn[t.dialog.status]:"取消"))])],1)],1)])],1)],1)],1)},staticRenderFns:[]},x=i("/Xao")(k,w,!1,null,null,null);a.default=x.exports}});